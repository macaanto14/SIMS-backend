{"timestamp":"2025-07-26 02:05:11.736","level":"INFO","message":"Enhanced Postman collection written to: C:\\Dugsinet\\SIMS-backend\\SIMS_Backend_API_Enhanced.postman_collection.json","service":"sims-backend","pid":35184,"environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 02:05:11.774","level":"INFO","message":"Enhanced Postman collection generated successfully","service":"sims-backend","pid":35184,"environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:19:19.976","level":"INFO","message":"Request started","service":"sims-backend","pid":29276,"requestId":"8bfdd250-0606-4414-9171-6e7a8346c2c4","method":"GET","path":"/favicon.ico","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:19:19.984","level":"INFO","message":"Request completed","service":"sims-backend","pid":29276,"requestId":"8bfdd250-0606-4414-9171-6e7a8346c2c4","method":"GET","path":"/","statusCode":404,"duration":11,"operation":"READ","module":"unknown","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:19:27.977","level":"INFO","message":"Request started","service":"sims-backend","pid":29276,"requestId":"e8e8bcea-3825-493c-b878-f1920b452ffa","method":"GET","path":"/api/audit/","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:19:27.980","level":"INFO","message":"Request completed","service":"sims-backend","pid":29276,"requestId":"e8e8bcea-3825-493c-b878-f1920b452ffa","method":"GET","path":"/audit/","statusCode":401,"duration":3,"operation":"READ","module":"audit","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:22:28.752","level":"INFO","message":"Request started","service":"sims-backend","pid":29276,"requestId":"36ab8d1b-ba5a-43f4-a59c-7e5eaa9dfcf9","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:22:29.587","level":"ERROR","message":"Error fetching audit logs","service":"sims-backend","pid":29276,"error":"relation \"audit_logs\" does not exist","userId":"aaeb2db1-2ce5-437a-8263-a486827d8ad0","query":{"page":"1","limit":"20","operation_type":"CREATE"},"environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:22:29.591","level":"INFO","message":"Request completed","service":"sims-backend","pid":29276,"requestId":"36ab8d1b-ba5a-43f4-a59c-7e5eaa9dfcf9","method":"GET","path":"/logs","statusCode":500,"duration":839,"operation":"READ","module":"audit","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:26:29.130","level":"INFO","message":"Request started","service":"sims-backend","pid":75292,"requestId":"ae439d20-d095-4621-b81d-52c184b834c8","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:26:31.445","level":"ERROR","message":"Failed to log data access","service":"sims-backend","pid":75292,"error":"column \"accessed_table\" of relation \"data_access_logs\" does not exist","userId":"aaeb2db1-2ce5-437a-8263-a486827d8ad0","tableName":"audit_logs","accessType":"READ","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:26:31.449","level":"INFO","message":"Request completed","service":"sims-backend","pid":75292,"requestId":"ae439d20-d095-4621-b81d-52c184b834c8","method":"GET","path":"/logs","statusCode":200,"duration":2320,"operation":"READ","module":"audit","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:27:59.903","level":"INFO","message":"Request started","service":"sims-backend","pid":75292,"requestId":"aba36dba-f986-44be-83e8-2320c9d035c3","method":"POST","path":"/api/schools","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:28:02.414","level":"INFO","message":"Request completed","service":"sims-backend","pid":75292,"requestId":"aba36dba-f986-44be-83e8-2320c9d035c3","method":"POST","path":"/","statusCode":500,"duration":2511,"operation":"CREATE","module":"schools","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:30:18.141","level":"INFO","message":"Request started","service":"sims-backend","pid":75292,"requestId":"3e3dd4a5-fa93-432e-aa45-22669dba3ac4","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:30:20.839","level":"ERROR","message":"Failed to log data access","service":"sims-backend","pid":75292,"error":"column \"accessed_table\" of relation \"data_access_logs\" does not exist","userId":"aaeb2db1-2ce5-437a-8263-a486827d8ad0","tableName":"audit_logs","accessType":"READ","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:30:20.844","level":"INFO","message":"Request completed","service":"sims-backend","pid":75292,"requestId":"3e3dd4a5-fa93-432e-aa45-22669dba3ac4","method":"GET","path":"/logs","statusCode":200,"duration":2702,"operation":"READ","module":"audit","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:32:21.040","level":"INFO","message":"Request started","service":"sims-backend","pid":25500,"requestId":"7b96c3e0-6620-437b-b4cf-e9ce44f63836","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:32:23.536","level":"ERROR","message":"Failed to log data access","service":"sims-backend","pid":25500,"error":"column \"accessed_table\" of relation \"data_access_logs\" does not exist","userId":"aaeb2db1-2ce5-437a-8263-a486827d8ad0","tableName":"audit_logs","accessType":"READ","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:32:23.544","level":"INFO","message":"Request completed","service":"sims-backend","pid":25500,"requestId":"7b96c3e0-6620-437b-b4cf-e9ce44f63836","method":"GET","path":"/logs","statusCode":200,"duration":2504,"operation":"READ","module":"audit","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:38:12.365","level":"INFO","message":"Request started","service":"sims-backend","pid":23012,"requestId":"39c007f0-32a1-457d-b8ae-73ee5ca4fe0d","method":"POST","path":"/api/schools","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:38:13.342","level":"INFO","message":"Request completed","service":"sims-backend","pid":23012,"requestId":"39c007f0-32a1-457d-b8ae-73ee5ca4fe0d","method":"POST","path":"/","statusCode":201,"duration":979,"operation":"CREATE","module":"schools","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:38:20.318","level":"INFO","message":"Request started","service":"sims-backend","pid":23012,"requestId":"7905867e-07f0-4c96-9a23-74017e222545","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:38:22.982","level":"ERROR","message":"Failed to log data access","service":"sims-backend","pid":23012,"error":"column \"accessed_table\" of relation \"data_access_logs\" does not exist","userId":"aaeb2db1-2ce5-437a-8263-a486827d8ad0","tableName":"audit_logs","accessType":"READ","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:38:22.986","level":"INFO","message":"Request completed","service":"sims-backend","pid":23012,"requestId":"7905867e-07f0-4c96-9a23-74017e222545","method":"GET","path":"/logs","statusCode":200,"duration":2668,"operation":"READ","module":"audit","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:40:24.251","level":"INFO","message":"Request started","service":"sims-backend","pid":23012,"requestId":"9e377f4b-b8ae-4775-b268-b1b0467cd97c","method":"GET","path":"/favicon.ico","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:40:24.255","level":"INFO","message":"Request completed","service":"sims-backend","pid":23012,"requestId":"9e377f4b-b8ae-4775-b268-b1b0467cd97c","method":"GET","path":"/","statusCode":404,"duration":4,"operation":"READ","module":"unknown","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:40:44.620","level":"INFO","message":"Request started","service":"sims-backend","pid":23012,"requestId":"633173ad-360d-416f-9b05-841e556c01c1","method":"GET","path":"/api/audit/user-activity","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:40:47.227","level":"INFO","message":"Request completed","service":"sims-backend","pid":23012,"requestId":"633173ad-360d-416f-9b05-841e556c01c1","method":"GET","path":"/user-activity","statusCode":403,"duration":2607,"operation":"READ","module":"audit","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:41:20.217","level":"INFO","message":"Request started","service":"sims-backend","pid":23012,"requestId":"675871f8-8416-419c-be87-5594c111af1a","method":"GET","path":"/api/audit/user-activity","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:41:20.992","level":"ERROR","message":"Failed to log data access","service":"sims-backend","pid":23012,"error":"column \"accessed_table\" of relation \"data_access_logs\" does not exist","userId":"aaeb2db1-2ce5-437a-8263-a486827d8ad0","tableName":"audit_logs","accessType":"READ","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:41:20.997","level":"INFO","message":"Request completed","service":"sims-backend","pid":23012,"requestId":"675871f8-8416-419c-be87-5594c111af1a","method":"GET","path":"/user-activity","statusCode":200,"duration":780,"operation":"READ","module":"audit","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:41:47.218","level":"INFO","message":"Request started","service":"sims-backend","pid":23012,"requestId":"001835a9-ea2b-4841-abf3-ee8cc6112c95","method":"GET","path":"/api/audit/dashboard","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:41:49.292","level":"ERROR","message":"Error generating system activity dashboard","service":"sims-backend","pid":23012,"error":"bind message supplies 1 parameters, but prepared statement \"\" requires 0","userId":"aaeb2db1-2ce5-437a-8263-a486827d8ad0","query":{"days":"7"},"environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:41:49.294","level":"INFO","message":"Request completed","service":"sims-backend","pid":23012,"requestId":"001835a9-ea2b-4841-abf3-ee8cc6112c95","method":"GET","path":"/dashboard","statusCode":500,"duration":2077,"operation":"READ","module":"audit","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:46:03.088","level":"INFO","message":"Request started","service":"sims-backend","pid":77764,"requestId":"c11dc5b3-acd3-4335-b212-3fce5547a75f","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:47:15.869","level":"INFO","message":"Request started","service":"sims-backend","pid":77764,"requestId":"69721135-d644-4ff8-b0f8-cea182f2542d","method":"POST","path":"/api/schools","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 11:47:43.571","level":"INFO","message":"Request started","service":"sims-backend","pid":77764,"requestId":"649d09bd-d399-4429-b338-da50dbed6be6","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 13:17:24.313","level":"INFO","message":"Request started","service":"sims-backend","pid":24244,"requestId":"2ea44f46-74a1-465d-8b5e-cb44e68e8fc0","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 13:18:26.713","level":"INFO","message":"Request started","service":"sims-backend","pid":24244,"requestId":"13f468da-161c-4f39-ab5e-af12cb65fd06","method":"POST","path":"/api/schools","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 13:18:31.754","level":"ERROR","message":"Database operation failed","service":"sims-backend","pid":24244,"error":"column \"ip_address\" is of type inet but expression is of type text","duration":2544,"userId":"aaeb2db1-2ce5-437a-8263-a486827d8ad0","operation":"CREATE_SCHOOL","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 13:21:54.678","level":"INFO","message":"Request started","service":"sims-backend","pid":24244,"requestId":"8ac35193-4273-4dfb-bab8-605501bcda54","method":"POST","path":"/api/schools","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 13:21:57.587","level":"INFO","message":"Database operation completed with audit context","service":"sims-backend","pid":24244,"duration":2647,"userId":"aaeb2db1-2ce5-437a-8263-a486827d8ad0","operation":"CREATE_SCHOOL","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 13:22:04.924","level":"INFO","message":"Request started","service":"sims-backend","pid":24244,"requestId":"8f52daaa-c105-4519-bd05-5b473fdbe783","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 13:22:47.787","level":"INFO","message":"Request started","service":"sims-backend","pid":24244,"requestId":"47eef809-c9ec-406d-a37e-18693f3e197a","method":"GET","path":"/favicon.ico","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 13:23:01.511","level":"INFO","message":"Request started","service":"sims-backend","pid":24244,"requestId":"e006f2ac-fe48-4caa-a9a5-c50cf102347f","method":"GET","path":"/api/audit/user-activity","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 13:32:35.053","level":"INFO","message":"Request started","service":"sims-backend","pid":27748,"requestId":"a3819baf-f136-409c-ba60-65b060df6309","method":"POST","path":"/api/schools","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 13:32:38.314","level":"INFO","message":"Database operation completed with audit context","service":"sims-backend","pid":27748,"duration":2838,"userId":"aaeb2db1-2ce5-437a-8263-a486827d8ad0","operation":"CREATE_SCHOOL","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 13:32:42.895","level":"INFO","message":"Request started","service":"sims-backend","pid":27748,"requestId":"b422a094-3d39-4adb-b026-186a3fb39dd2","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 16:34:35.810","level":"INFO","message":"Request started","service":"sims-backend","pid":27748,"requestId":"5edfcc75-e6b6-45a6-9f78-16466635ce7b","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:12:10.598","level":"ERROR","message":"Failed to initialize email service","service":"sims-backend","pid":18604,"error":"nodemailer.createTransporter is not a function","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:12:10.686","level":"ERROR","message":"Failed to send email","service":"sims-backend","pid":18604,"error":"Cannot read properties of null (reading 'sendMail')","to":"your_test@email.com","subject":"SIMS System Notification - Email System Test","template":"system-notification","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:12:10.692","level":"ERROR","message":"unhandledRejection: nodemailer.createTransporter is not a function\nTypeError: nodemailer.createTransporter is not a function\n    at EmailService.initialize (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:35:37)\n    at new EmailService (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:26:10)\n    at Object.<anonymous> (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:515:22)\n    at Module._compile (node:internal/modules/cjs/loader:1554:14)\n    at Object..js (node:internal/modules/cjs/loader:1706:10)\n    at Module.load (node:internal/modules/cjs/loader:1289:32)\n    at Function._load (node:internal/modules/cjs/loader:1108:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)\n    at Module.require (node:internal/modules/cjs/loader:1311:12)","error":{},"stack":"TypeError: nodemailer.createTransporter is not a function\n    at EmailService.initialize (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:35:37)\n    at new EmailService (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:26:10)\n    at Object.<anonymous> (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:515:22)\n    at Module._compile (node:internal/modules/cjs/loader:1554:14)\n    at Object..js (node:internal/modules/cjs/loader:1706:10)\n    at Module.load (node:internal/modules/cjs/loader:1289:32)\n    at Function._load (node:internal/modules/cjs/loader:1108:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)\n    at Module.require (node:internal/modules/cjs/loader:1311:12)","rejection":true,"date":"Sat Jul 26 2025 19:12:10 GMT+0300 (East Africa Time)","process":{"pid":18604,"uid":null,"gid":null,"cwd":"C:\\Dugsinet\\SIMS-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v22.14.0","argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Dugsinet\\SIMS-backend\\scripts\\test-email-system.js"],"memoryUsage":{"rss":57376768,"heapTotal":19177472,"heapUsed":13322056,"external":2274150,"arrayBuffers":16659}},"os":{"loadavg":[0,0,0],"uptime":694184.765},"trace":[{"column":37,"file":"C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js","function":"EmailService.initialize","line":35,"method":"initialize","native":false},{"column":10,"file":"C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js","function":"new EmailService","line":26,"method":null,"native":false},{"column":22,"file":"C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js","function":null,"line":515,"method":null,"native":false},{"column":14,"file":"node:internal/modules/cjs/loader","function":"Module._compile","line":1554,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":"Object..js","line":1706,"method":".js","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1289,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1108,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false},{"column":24,"file":"node:internal/modules/cjs/loader","function":"wrapModuleLoad","line":220,"method":null,"native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1311,"method":"require","native":false}],"service":"sims-backend","pid":18604,"environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:19:59.144","level":"ERROR","message":"Failed to initialize email service","service":"sims-backend","pid":65036,"error":"nodemailer.createTransporter is not a function","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:19:59.167","level":"ERROR","message":"Failed to send email","service":"sims-backend","pid":65036,"error":"Cannot read properties of null (reading 'sendMail')","to":"haaji.dheere@gmail.com","subject":"SIMS System Notification - Email System Test","template":"system-notification","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:19:59.173","level":"ERROR","message":"unhandledRejection: nodemailer.createTransporter is not a function\nTypeError: nodemailer.createTransporter is not a function\n    at EmailService.initialize (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:35:37)\n    at new EmailService (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:26:10)\n    at Object.<anonymous> (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:515:22)\n    at Module._compile (node:internal/modules/cjs/loader:1554:14)\n    at Object..js (node:internal/modules/cjs/loader:1706:10)\n    at Module.load (node:internal/modules/cjs/loader:1289:32)\n    at Function._load (node:internal/modules/cjs/loader:1108:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)\n    at Module.require (node:internal/modules/cjs/loader:1311:12)","error":{},"stack":"TypeError: nodemailer.createTransporter is not a function\n    at EmailService.initialize (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:35:37)\n    at new EmailService (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:26:10)\n    at Object.<anonymous> (C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js:515:22)\n    at Module._compile (node:internal/modules/cjs/loader:1554:14)\n    at Object..js (node:internal/modules/cjs/loader:1706:10)\n    at Module.load (node:internal/modules/cjs/loader:1289:32)\n    at Function._load (node:internal/modules/cjs/loader:1108:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)\n    at Module.require (node:internal/modules/cjs/loader:1311:12)","rejection":true,"date":"Sat Jul 26 2025 19:19:59 GMT+0300 (East Africa Time)","process":{"pid":65036,"uid":null,"gid":null,"cwd":"C:\\Dugsinet\\SIMS-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v22.14.0","argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Dugsinet\\SIMS-backend\\scripts\\test-email-system.js"],"memoryUsage":{"rss":57204736,"heapTotal":18915328,"heapUsed":13261952,"external":2274150,"arrayBuffers":16659}},"os":{"loadavg":[0,0,0],"uptime":694653.25},"trace":[{"column":37,"file":"C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js","function":"EmailService.initialize","line":35,"method":"initialize","native":false},{"column":10,"file":"C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js","function":"new EmailService","line":26,"method":null,"native":false},{"column":22,"file":"C:\\Dugsinet\\SIMS-backend\\src\\services\\emailService.js","function":null,"line":515,"method":null,"native":false},{"column":14,"file":"node:internal/modules/cjs/loader","function":"Module._compile","line":1554,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":"Object..js","line":1706,"method":".js","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1289,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1108,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false},{"column":24,"file":"node:internal/modules/cjs/loader","function":"wrapModuleLoad","line":220,"method":null,"native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1311,"method":"require","native":false}],"service":"sims-backend","pid":65036,"environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:26:59.200","level":"ERROR","message":"Failed to initialize email service","service":"sims-backend","pid":21960,"error":"connect ETIMEDOUT 213.55.96.132:25","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:28:05.288","level":"ERROR","message":"Failed to initialize email service","service":"sims-backend","pid":5428,"error":"queryA EBADNAME 213.55.96.132:25","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:28:05.293","level":"ERROR","message":"unhandledRejection: queryA EBADNAME 213.55.96.132:25\nError: queryA EBADNAME 213.55.96.132:25\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/callback_resolver:45:19)","error":{"code":"EDNS","syscall":"queryA","hostname":"213.55.96.132:25","command":"CONN"},"stack":"Error: queryA EBADNAME 213.55.96.132:25\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/callback_resolver:45:19)","rejection":true,"date":"Sat Jul 26 2025 19:28:05 GMT+0300 (East Africa Time)","process":{"pid":5428,"uid":null,"gid":null,"cwd":"C:\\Dugsinet\\SIMS-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v22.14.0","argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Dugsinet\\SIMS-backend\\scripts\\test-email-system.js"],"memoryUsage":{"rss":57720832,"heapTotal":20226048,"heapUsed":11458480,"external":2290003,"arrayBuffers":16675}},"os":{"loadavg":[0,0,0],"uptime":695139.359},"trace":[{"column":19,"file":"node:internal/dns/callback_resolver","function":"QueryReqWrap.onresolve [as oncomplete]","line":45,"method":"onresolve [as oncomplete]","native":false}],"service":"sims-backend","pid":5428,"environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:28:05.296","level":"ERROR","message":"Failed to send email","service":"sims-backend","pid":5428,"error":"queryA EBADNAME 213.55.96.132:25","to":"haaji.dheere@gmail.com","subject":"SIMS System Notification - Email System Test","template":"system-notification","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:28:58.888","level":"INFO","message":"Request started","service":"sims-backend","pid":61028,"requestId":"6ab9573f-9e6d-4c4e-90a6-e0faa3331775","method":"GET","path":"/favicon.ico","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:29:53.979","level":"INFO","message":"Request started","service":"sims-backend","pid":61028,"requestId":"62a42f76-8725-4304-86a8-0f7c5245a990","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-26 19:30:12.285","level":"ERROR","message":"Error fetching audit logs","service":"sims-backend","pid":61028,"error":"timeout exceeded when trying to connect","userId":"aaeb2db1-2ce5-437a-8263-a486827d8ad0","query":{"page":"1","limit":"20","operation_type":"CREATE"},"environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 17:25:42.557","level":"INFO","message":"Request started","service":"sims-backend","pid":10360,"requestId":"522dc4b8-99bf-4bd6-8709-e0fd69b8d7d5","method":"POST","path":"/api/auth/login","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 17:25:42.584","level":"ERROR","message":"Failed to log auth event","service":"sims-backend","pid":10360,"error":"Cannot read properties of null (reading 'toUpperCase')","eventType":null,"userId":"LOGIN","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 17:35:56.210","level":"INFO","message":"Request started","service":"sims-backend","pid":36992,"requestId":"328c7e8f-0a6e-4027-a6da-d684e6f85adc","method":"POST","path":"/api/auth/login","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 17:35:56.228","level":"ERROR","message":"Failed to log auth event","service":"sims-backend","pid":36992,"error":"Cannot read properties of null (reading 'toUpperCase')","eventType":null,"userId":"LOGIN","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 17:37:52.799","level":"INFO","message":"Request started","service":"sims-backend","pid":67740,"requestId":"5fa06f90-b3cf-45bf-96ca-0d63faa599c2","method":"POST","path":"/api/auth/login","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 17:37:52.841","level":"ERROR","message":"Failed to log auth event","service":"sims-backend","pid":67740,"error":"Cannot read properties of null (reading 'toUpperCase')","eventType":null,"userId":"LOGIN","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 17:40:08.313","level":"INFO","message":"Request started","service":"sims-backend","pid":19884,"requestId":"b25ed55a-97e2-4b89-a87c-48582283a8ab","method":"POST","path":"/api/auth/login","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 17:40:08.766","level":"ERROR","message":"Failed to log auth event","service":"sims-backend","pid":19884,"error":"invalid input syntax for type uuid: \"LOGIN\"","eventType":"25bdb66a-2920-4948-87b7-3f7baf31b9c9","userId":"LOGIN","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 17:40:22.008","level":"INFO","message":"Request started","service":"sims-backend","pid":19884,"requestId":"73af3f10-8603-49dd-bf85-5086c456c4b9","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 17:48:14.451","level":"INFO","message":"Request started","service":"sims-backend","pid":19884,"requestId":"6c00c221-ace6-403d-aa31-fff33d419f9e","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 18:22:38.426","level":"INFO","message":"Request started","service":"sims-backend","pid":19884,"requestId":"4750d9f2-0004-4a4f-9521-7a207211e01e","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
{"timestamp":"2025-07-27 18:28:59.767","level":"INFO","message":"Request started","service":"sims-backend","pid":19884,"requestId":"d7a8a03f-9eba-4379-8192-ae4e219f52a6","method":"GET","path":"/api/audit/logs","ipAddress":"::1","environment":"development","version":"1.0.0"}
